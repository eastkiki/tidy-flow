<!doctype html>
<html>
	<head>
		<title>tidy-flow test page</title>
		<script src="/tidy-flow.js"></script>
	</head>
	<body>
		<h1>tidy flow test page</h1>
		
		<script>
			var result = [];
            var flow = new TidyFlow(1);
            flow.passive(function (arg) {
                arg += 1;
                result.push(arg);
                return arg;
            }).passive(function (arg) {
                arg += 1;
                result.push(arg);
                return arg;
            }).passive(function (arg) {
                arg += 1;
                result.push(arg);
                return arg;
            }).end(function (err, arg) {
                if (err) {
                    console.error(err);
                }

                console.log(arg);
                console.log(result);
            });

		</script>
	</body>
</html>